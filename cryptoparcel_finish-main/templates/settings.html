{% extends "base.html" %}
{% block title %}Account settings - CryptoParcel{% endblock %}

{% block content %}
<section class="section">
    <div class="page-header">
        <div>
            <h1>Account settings</h1>
            <p class="muted">
                Manage your account security and data. Changes apply to your CryptoParcel login.
            </p>
        </div>
    </div>

    <div class="grid-2">
        <!-- Change password -->
        <div class="card">
            <h2 style="margin-bottom: 8px;">Change password</h2>
            <p class="muted" style="margin-bottom: 12px;">
                Use a strong, unique password. You will use this to log in to your CryptoParcel account.
            </p>

            <form method="POST" action="{{ url_for('settings') }}">
                <input type="hidden" name="action" value="change_password">

                <div class="cp-field-group">
                    <label>Current password</label>
                    <input type="password" name="current_password" required>
                </div>

                <div class="cp-field-group">
                    <label>New password</label>
                    <input type="password" name="new_password" required>
                </div>

                <div class="cp-field-group">
                    <label>Confirm new password</label>
                    <input type="password" name="confirm_password" required>
                </div>

                <button type="submit" class="primary btn-sm" style="margin-top: 8px;">
                    Update password
                </button>
            </form>
        </div>

        <!-- Delete account -->
        <div class="card">
            <h2 style="margin-bottom: 8px; color: #b91c1c;">Delete account</h2>
            <p class="muted" style="margin-bottom: 10px;">
                Deleting your account will remove your user profile, wallet logs, API keys, and order history.
                This action cannot be undone.
            </p>

            <form method="POST" action="{{ url_for('settings') }}">
                <input type="hidden" name="action" value="delete_account">

                <div class="cp-field-group">
                    <label>Confirmation</label>
                    <input type="text" name="confirm" placeholder="Type DELETE to confirm">
                </div>

                <button type="submit" class="btn-sm secondary" style="border-color: #fecaca; color: #b91c1c;">
                    Permanently delete my account
                </button>
            </form>
        </div>
    </div>
</section>
{% endblock %}
