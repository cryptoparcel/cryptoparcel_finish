{% extends "base.html" %}
{% block title %}Wallet â€” CryptoParcel{% endblock %}
{% block content %}
<section class="wallet-spacious">
    <div class="balance-section">
        <p class="balance-label">Wallet balance</p>
        <h1 class="balance-amount">${{ '%.2f'|format(balance or 0.0) }}</h1>
    </div>

    <div class="wallet-buttons">
        <a href="{{ url_for('wallet_topup') }}" class="cp-btn-secondary cp-btn-block">Top up wallet</a>
        <a href="{{ url_for('create_label') }}" class="cp-btn-primary cp-btn-block">Create label</a>
    </div>

    <div class="recent-section">
        <h3>Recent activity</h3>
        {% if wallet_logs %}
            <ul class="activity-list">
                {% for log in wallet_logs %}
                    <li class="activity-item">
                        <div>{{ log.reason or 'Balance change' }}</div>
                        <div class="{{ 'positive' if log.amount_change >= 0 else 'negative' }}">
                            {% if log.amount_change >= 0 %}+{% endif %}${{ '%.2f'|format(log.amount_change|abs) }}
                        </div>
                        <div class="muted">{{ log.created_at.strftime('%b %d, %Y') }}</div>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="muted center spacious">No activity yet.</p>
        {% endif %}
    </div>
</section>
{% endblock %}
